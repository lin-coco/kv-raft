```bash
# 编译客户端
go build -o testing/kv-raft-client client/cmd/main.go
# 编译服务端
go build -o testing/kv-raft-server server/cmd/main.go
```



该系统实现的功能有：

1. **Raft算法领导者选举功能：** 初始时集群中会选出一个节点作为Leader主节点，接收处理用户请求，如果主节点挂了，集群会很快选举出新的节点作为Leader.
2. **Raft算法日志复制（心跳机制）功能：** Leader将客户端的命令作为日志条目追加到自己的日志中，并通过AppendEntries RPC将日志同步到Follower。超过一半的Follower节点同步之后，Leader节点会应用并持久化这个命令的修改，并通知所有Follower应用和持久化
3. **Raft安全性约束功能：** 1.选举约束：候选者必须拥有最新的日志条目才能获得大多数节点的投票2.提交约束：某一任期的Leader只能提交自己任期内的日志条目，确保日志条目不会被非合法Leader提交。3.日志匹配性：如果两个日志在相同索引处的条目具有相同的任期，则从该条目开始的日志内容完全相同
4. **Raft集群故障恢复：** 1. Follower崩溃：恢复后，Follower会向Leader请求缺失的日志条目并与集群重新同步。2. Leader崩溃：Follower检测到Leader失效后，会通过选举机制产生新的Leader。新的Leader确保其日志包含已提交的所有条目。
5. **内存哈希表实现：** 设计哈希表的数据结构可以使用数组作为哈希桶的基础存储单元，链表用于处理哈希冲突（适用于较少冲突）。当链表长度超过一定阈值（如 8）时，链表转化为红黑树，提高查找效率。使用高效且分布均匀的哈希函数。支持插入、查询、删除等基本操作。具备高性能、低延迟、内存占用控制等特性。
6. **哈希表数据持久化功能：** 每当Raft节点提交日志后执行持久化，使用AOF（Append Only File）方式，顺序I/O持久化命令
7. **数据恢复功能：** 当Raft节点重启时执行数据恢复，对AOF文件进行命令重放使得内存哈希表恢复数据
8. **服务端api实现：** 每个节点都有一个暴露的HTTP接口/receive处理增删改查请求。如果客户端当前请求的服务端不是Leader节点，客户端会被重定向到Leader节点。
9. **客户端工具(SDK)实现：** 客户端可以通过命令行工具使用，也可以通过SDK包引入使用，操控服务端
10. **访问控制功能：** 设置两种账号，一种账号用来读写，一种账号用来只读。服务端通过用户凭证来鉴权
